<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head('Accueil')}"></head>
<body>

<div th:replace="~{fragments :: header}"></div>

<main>
    <section id="apropos">
        <h2>À propos</h2>
        <p th:text="${about}">Texte…</p>
    </section>

    <section id="competences">
        <h2>Compétences</h2>
        <ul>
            <li th:each="s : ${skills}" th:text="${s}">Compétence</li>
        </ul>

        <h3>Soft skills</h3>
        <ul>
            <li th:each="e : ${expertise}" th:text="${e}">Atout</li>
        </ul>

        <h3>Langues</h3>
        <ul>
            <li th:each="l : ${languages}" th:text="${l}">Langue</li>
        </ul>

        <h3>Centres d’intérêts</h3>
        <ul>
            <li th:each="i : ${interests}" th:text="${i}">Intérêt</li>
        </ul>
    </section>

    <section id="experiences">
        <h2>Expériences</h2>
        <article class="item" th:each="xp : ${experiences}">
            <h3>
                <span th:text="${xp.get('role')}">Rôle</span> —
                <span th:text="${xp.get('company')}">Entreprise</span>
            </h3>
            <p th:text="${xp.get('dates')}">Dates</p>
            <ul>
                <li th:each="b : ${xp.get('bullets')}" th:text="${b}">Point</li>
            </ul>
        </article>
    </section>

    <section id="formation">
        <h2>Formation</h2>
        <ul>
            <li th:each="ed : ${education}">
                <strong th:text="${ed['label']}">Diplôme</strong>
                <span th:if="${!#strings.isEmpty(ed['details'])}">
                    &nbsp;—&nbsp;<span th:text="${ed['details']}">Détails</span>
                </span>
            </li>
        </ul>
    </section>

    <section id="contact">
        <h2>Contact</h2>
        <ul>
            <li><a th:href="'mailto:' + ${contact.get('email')}" th:text="${contact.get('email')}">email</a></li>
            <li><a th:href="'tel:' + ${contact.get('phone')}" th:text="${contact.get('phone')}">téléphone</a></li>
            <li th:text="${contact.get('address')}">Adresse</li>
        </ul>

        <form method="post" action="/contact">
            <label>Nom <input name="name" required></label>
            <label>Email <input name="email" type="email" required></label>
            <label>Message <textarea name="message" required></textarea></label>
            <button type="submit">Envoyer</button>
        </form>
        <p th:if="${param.sent}" class="ok">Merci ! Votre message a été envoyé.</p>
    </section>
</main>

<div th:replace="~{fragments :: footer}"></div>

<!-- >>> inclure les scripts en bas de page <<< -->
<div th:replace="~{fragments :: scripts}"></div>
</body>
</html>